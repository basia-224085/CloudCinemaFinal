@{
    ViewBag.Title = "Home Page";

}
@model CCS.ViewModels.HomeViewModel

<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
        function openDay(evt, dayOfWeek) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(dayOfWeek).style.display = "block";
            evt.currentTarget.className += " active";
        }
        function on_click(_link) {
            localStorage.setItem("link", _link);
            window.location.href = '@Url.Action("Trailer", "Home")';
        }
        function on_chosen_movie(_show) {
            localStorage.setItem("show", JSON.stringify(_show));
            window.location.href = '@Url.Action("Tickets", "Home")';
        }
    </script>
    <style>
        body {
            font-family: Arial;
        }

        /* Style the tab */
        .tab {
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
        }

            /* Style the buttons inside the tab */
            .tab button {
                background-color: inherit;
                float: left;
                border: none;
                outline: none;
                cursor: pointer;
                padding: 14px 16px;
                transition: 0.3s;
                font-size: 17px;
            }

                /* Change background color of buttons on hover */
                .tab button:hover {
                    background-color: #ddd;
                }

                /* Create an active/current tablink class */
                .tab button.active {
                    background-color: #ccc;
                }

        /* Style the tab content */
        .tabcontent {
            display: none;
            padding: 6px 12px;
            border: 1px solid #ccc;
            border-top: none;
        }
    </style>
</head>
<body >
   
    <div class="text-center">
        <h1 class="display-4">Movies List</h1>
    </div>
    <div class="tab">
        <button class="tablinks" onclick="openDay(event, 'Monday')">Monday</button>
        <button class="tablinks" onclick="openDay(event, 'Tuesday')">Tuesday</button>
        <button class="tablinks" onclick="openDay(event, 'Wednesday')">Wednesday</button>
        <button class="tablinks" onclick="openDay(event, 'Thursday')">Thursday</button>
        <button class="tablinks" onclick="openDay(event, 'Friday')">Friday</button>
        <button class="tablinks" onclick="openDay(event, 'Saturday')">Saturday</button>
        <button class="tablinks" onclick="openDay(event, 'Sunday')">Sunday</button>
    </div>

    <div id="Monday" class="tabcontent">
        <ul class="list-group">
            @foreach (var show in Model.Shows)
            {
                if (show.Movie_date == 1)
                {
            <li class="list-group-item">
                <img class="float-left" src=@show.Poster style="height: 200px;" />
                <div>
                    <h2>&emsp; @show.Title</h2>
                    <p>Screening hour: @show.Movie_hour</p>
                    <p>Genre: @show.Genre</p>
                    <p>@show.Description</p>
                </div>
                <div class="float-right">
                    <input type="button" value="Watch Trailer" class="btn-outline-dark"
                           onclick="on_click('@show.Trailer')" />
                </div><br />
                @if (!User.Identity.IsAuthenticated)
                {
                    <b>You must be logged in to reserve tickets.</b>
                }
                else
                {
                    <input type="button" value="Reserve tickets" id="reserve_btn" class="btn-outline-dark"
                           onclick="on_chosen_movie({
                           Schedule_id: @show.Schedule_id,
                           Movie_date: @show.Movie_date,
                           Movie_hour: '@show.Movie_hour',
                           Parking_zone: '@show.Parking_zone',
                           Capacity: @show.Capacity,
                           Reserved_spots: @show.Reserved_spots,
                           Title: '@show.Title',
                           Price_per_spot: @show.Price_per_spot})" />
                }

            </li>
                }
            }
        </ul>
    </div>

    <div id="Tuesday" class="tabcontent">
        <ul class="list-group">
            @foreach (var show in Model.Shows)
            {
                if (show.Movie_date == 2)
                {
            <li class="list-group-item">
                <img class="float-left" src=@show.Poster style="height: 200px;" />
                <div>
                    <h2>&emsp; @show.Title</h2>
                    <p>Screening hour: @show.Movie_hour</p>
                    <p>Genre: @show.Genre</p>
                    <p>@show.Description</p>
                </div>
                <div class="float-right">
                    <input type="button" value="Watch Trailer" class="btn-outline-dark"
                           onclick="on_click('@show.Trailer')" />
                </div><br />
                @if (!User.Identity.IsAuthenticated)
                {
                    <b>You must be logged in to reserve tickets.</b>
                }
                else
                {
                    <input type="button" value="Reserve tickets" id="reserve_btn" class="btn-outline-dark"
                           onclick="on_chosen_movie({
                           Schedule_id: @show.Schedule_id,
                           Movie_date: @show.Movie_date,
                           Movie_hour: '@show.Movie_hour',
                           Parking_zone: '@show.Parking_zone',
                           Capacity: @show.Capacity,
                           Reserved_spots: @show.Reserved_spots,
                           Title: '@show.Title',
                           Price_per_spot: @show.Price_per_spot})" />
                }
            </li>
                }
            }
        </ul>
    </div>

    <div id="Wednesday" class="tabcontent">
        <ul class="list-group">
            @foreach (var show in Model.Shows)
            {
                if (show.Movie_date == 3)
                {
            <li class="list-group-item">
                <img class="float-left" src=@show.Poster style="height: 200px;" />
                <div>
                    <h2>&emsp; @show.Title</h2>
                    <p>Screening hour: @show.Movie_hour</p>
                    <p>Genre: @show.Genre</p>
                    <p>@show.Description</p>
                </div>
                <div class="float-right">
                    <input type="button" value="Watch Trailer" class="btn-outline-dark"
                           onclick="on_click('@show.Trailer')" />
                </div><br />
                @if (!User.Identity.IsAuthenticated)
                {
                    <b>You must be logged in to reserve tickets.</b>
                }
                else
                {
                    <input type="button" value="Reserve tickets" id="reserve_btn" class="btn-outline-dark"
                           onclick="on_chosen_movie({
                           Schedule_id: @show.Schedule_id,
                           Movie_date: @show.Movie_date,
                           Movie_hour: '@show.Movie_hour',
                           Parking_zone: '@show.Parking_zone',
                           Capacity: @show.Capacity,
                           Reserved_spots: @show.Reserved_spots,
                           Title: '@show.Title',
                           Price_per_spot: @show.Price_per_spot})" />
                }
            </li>
                }
            }
        </ul>
    </div>

    <div id="Thursday" class="tabcontent">
        <ul class="list-group">
            @foreach (var show in Model.Shows)
            {
                if (show.Movie_date == 4)
                {
            <li class="list-group-item">
                <img class="float-left" src=@show.Poster style="height: 200px;" />
                <div>
                    <h2>&emsp; @show.Title</h2>
                    <p>Screening hour: @show.Movie_hour</p>
                    <p>Genre: @show.Genre</p>
                    <p>@show.Description</p>
                </div>
                <div class="float-right">
                    <input type="button" value="Watch Trailer" class="btn-outline-dark"
                           onclick="on_click('@show.Trailer')" />
                </div><br />
                @if (!User.Identity.IsAuthenticated)
                {
                    <b>You must be logged in to reserve tickets.</b>
                }
                else
                {
                    <input type="button" value="Reserve tickets" id="reserve_btn" class="btn-outline-dark"
                           onclick="on_chosen_movie({
                           Schedule_id: @show.Schedule_id,
                           Movie_date: @show.Movie_date,
                           Movie_hour: '@show.Movie_hour',
                           Parking_zone: '@show.Parking_zone',
                           Capacity: @show.Capacity,
                           Reserved_spots: @show.Reserved_spots,
                           Title: '@show.Title',
                           Price_per_spot: @show.Price_per_spot})" />
                }
            </li>
                }
            }
        </ul>
    </div>

    <div id="Friday" class="tabcontent">
        <ul class="list-group">
            @foreach (var show in Model.Shows)
            {
                if (show.Movie_date == 5)
                {
            <li class="list-group-item">
                <img class="float-left" src=@show.Poster style="height: 200px;" />
                <div>
                    <h2>&emsp; @show.Title</h2>
                    <p>Screening hour: @show.Movie_hour</p>
                    <p>Genre: @show.Genre</p>
                    <p>@show.Description</p>
                </div>
                <div class="float-right">
                    <input type="button" value="Watch Trailer" class="btn-outline-dark"
                           onclick="on_click('@show.Trailer')" />
                </div><br />
                @if (!User.Identity.IsAuthenticated)
                {
                    <b>You must be logged in to reserve tickets.</b>
                }
                else
                {
                    <input type="button" value="Reserve tickets" id="reserve_btn" class="btn-outline-dark"
                           onclick="on_chosen_movie({
                           Schedule_id: @show.Schedule_id,
                           Movie_date: @show.Movie_date,
                           Movie_hour: '@show.Movie_hour',
                           Parking_zone: '@show.Parking_zone',
                           Capacity: @show.Capacity,
                           Reserved_spots: @show.Reserved_spots,
                           Title: '@show.Title',
                           Price_per_spot: @show.Price_per_spot})" />
                }
            </li>
                }
            }
        </ul>
    </div>

    <div id="Saturday" class="tabcontent">
        <ul class="list-group">
            @foreach (var show in Model.Shows)
            {
                if (show.Movie_date == 6)
                {
            <li class="list-group-item">
                <img class="float-left" src=@show.Poster style="height: 200px;" />
                <div>
                    <h2>&emsp; @show.Title</h2>
                    <p>Screening hour: @show.Movie_hour</p>
                    <p>Genre: @show.Genre</p>
                    <p>@show.Description</p>
                </div>
                <div class="float-right">
                    <input type="button" value="Watch Trailer" class="btn-outline-dark"
                           onclick="on_click('@show.Trailer')" />
                </div><br />
                @if (!User.Identity.IsAuthenticated)
                {
                    <b>You must be logged in to reserve tickets.</b>
                }
                else
                {
                    <input type="button" value="Reserve tickets" id="reserve_btn" class="btn-outline-dark"
                           onclick="on_chosen_movie({
                           Schedule_id: @show.Schedule_id,
                           Movie_date: @show.Movie_date,
                           Movie_hour: '@show.Movie_hour',
                           Parking_zone: '@show.Parking_zone',
                           Capacity: @show.Capacity,
                           Reserved_spots: @show.Reserved_spots,
                           Title: '@show.Title',
                           Price_per_spot: @show.Price_per_spot})" />
                }
            </li>
                }
            }
        </ul>
    </div>

    <div id="Sunday" class="tabcontent">
        <ul class="list-group">
            @foreach (var show in Model.Shows)
            {
                if (show.Movie_date == 7)
                {
            <li class="list-group-item">
                <img class="float-left" src=@show.Poster style="height: 200px;" />
                <div>
                    <h2>&emsp; @show.Title</h2>
                    <p>Screening hour: @show.Movie_hour</p>
                    <p>Genre: @show.Genre</p>
                    <p>@show.Description</p>
                </div>
                <div class="float-right">
                    <input type="button" value="Watch Trailer" class="btn-outline-dark"
                           onclick="on_click('@show.Trailer')" />
                </div><br />
                @if (!User.Identity.IsAuthenticated)
                {
                    <b>You must be logged in to reserve tickets.</b>
                }
                else
                {
                    <input type="button" value="Reserve tickets" id="reserve_btn" class="btn-outline-dark"
                           onclick="on_chosen_movie({
                           Schedule_id: @show.Schedule_id,
                           Movie_date: @show.Movie_date,
                           Movie_hour: '@show.Movie_hour',
                           Parking_zone: '@show.Parking_zone',
                           Capacity: @show.Capacity,
                           Reserved_spots: @show.Reserved_spots,
                           Title: '@show.Title',
                           Price_per_spot: @show.Price_per_spot})" />
                }
            </li>
                }
            }
        </ul>
    </div>

</body>
</html>
